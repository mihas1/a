{"version":3,"sources":["store/scheme.js","actions/actions.js","reducers/index.js","reducers/currency.js","reducers/filters.js","reducers/page.js","store/store.js","components/sidebar/currency/Currency.js","components/sidebar/stops/OnlyHtml.js","helper.js","components/sidebar/stops/Stops.js","components/sidebar/Sidebar.js","components/tickets/ticket/Ticket.js","components/tickets/Tickets.js","App.js","serviceWorker.js","index.js"],"names":["scheme","page","tickets","filters","available","active","currency","symbol","rate","SET_CURRENCY","SET_CURRENCY_RATE","SET_CURRENCY_SYMBOL","SET_TICKETS","SET_FILTER_AVAILABLE","SET_FILTER_ACTIVE","rootReducer","combineReducers","state","arguments","length","undefined","action","type","Object","objectSpread","payload","store","createStore","Currency","this","getCurrSymbol","props","_this","window","fetch","then","response","json","responseJson","setCurrencySymbol","catch","error","console","_this2","setCurrencyRate","getCurrRate","setCurrency","_this3","currenciesHtml","map","item","i","react_default","a","createElement","className","onClick","changeCurrency","key","Component","OnlyHtml","only","filter","helper","img","carrier","db","TK","alt","S7","BA","SU","formatStops","stops","text","val","isNaN","parseFloat","monthByNum","value","dayByNum","formatDate","date","_date","Date","replace","_day","getDay","_d","getDate","_m","getMonth","_y","getFullYear","formatPrice","num","_p","_t","_r","Stops","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","bind","assertThisInitialized","_this$props","setFilterActive","_active","assign","all","defineProperty","_this$props2","keys","id","checked","htmlFor","toFixed","stops_OnlyHtml","Sidebar","setCurrencyAction","setCurrencyRateAction","setCurrencySymbolAction","setFilterActiveAction","currency_Currency","stops_Stops","connect","dispatch","Ticket","data","_data$carrier","_data$price","price","_data$departure_time","departure_time","_data$stops","_data$arrival_time","arrival_time","_data$origin","origin","_data$origin_name","origin_name","_data$destination","destination","_data$destination_nam","destination_name","_data$departure_date","departure_date","_data$arrival_date","arrival_date","src","width","height","href","Tickets","setTickets","setTicketsAction","setFilterAvailableAction","slice","_h","sort","b","prep","ticketsHtml","ticket_Ticket","setFilterAvailable","polyfill","App","sidebar_Sidebar","tickets_Tickets","Boolean","location","hostname","match","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5255dad7.chunk.js","sourcesContent":["export const scheme = {\n    page: {\n        tickets: [],\n    },\n    filters: {\n        available: {},\n        active: {}\n    },\n    currency: {\n        available: ['RUB', 'USD', 'EUR'],\n        active: 'RUB',\n        symbol: '',\n        rate: 1\n    },\n};","export const SET_CURRENCY = 'SET_CURRENCY';\nexport const SET_CURRENCY_RATE = 'SET_CURRENCY_RATE';\nexport const SET_CURRENCY_SYMBOL = 'SET_CURRENCY_SYMBOL';\nexport const SET_TICKETS = 'SET_TICKETS';\nexport const SET_FILTER_AVAILABLE = 'SET_FILTER_AVAILABLE';\nexport const SET_FILTER_ACTIVE = 'SET_FILTER_ACTIVE';\n\nexport function setCurrency(currency) {\n    return {\n        type: SET_CURRENCY,\n        payload: currency,\n    }\n}\n\nexport function setCurrencyRate(rate) {\n    return {\n        type: SET_CURRENCY_RATE,\n        payload: rate,\n    }\n}\n\nexport function setCurrencySymbol(symbol) {\n    return {\n        type: SET_CURRENCY_SYMBOL,\n        payload: symbol,\n    }\n}\n\nexport function setTickets(tickets) {\n    return {\n        type: SET_TICKETS,\n        payload: tickets,\n    }\n}\n\nexport function setFilterAvailable(filters) {\n    return {\n        type: SET_FILTER_AVAILABLE,\n        payload: filters,\n    }\n}\n\nexport function setFilterActive(filter) {\n    return {\n        type: SET_FILTER_ACTIVE,\n        payload: filter,\n    }\n}","import {combineReducers} from 'redux'\nimport {currencyReducer} from './currency'\nimport {filtersReducer} from './filters'\nimport {pageReducer} from './page'\n\nexport const rootReducer = combineReducers({\n    currency: currencyReducer,\n    filters: filtersReducer,\n    page: pageReducer,\n});","import {scheme} from '../store/scheme';\nimport { SET_CURRENCY, SET_CURRENCY_RATE, SET_CURRENCY_SYMBOL } from '../actions/actions';\n\nexport function currencyReducer(state = scheme.currency, action) {\n    switch (action.type) {\n        case SET_CURRENCY:\n            return {...state, active: action.payload};\n\n        case SET_CURRENCY_RATE:\n            return {...state, rate: action.payload};\n\n        case SET_CURRENCY_SYMBOL:\n            return {...state, symbol: action.payload};\n\n        default:\n            return state\n    }\n}","import {scheme} from '../store/scheme';\nimport {SET_FILTER_AVAILABLE, SET_FILTER_ACTIVE} from '../actions/actions';\n\nexport function filtersReducer(state = scheme.filters, action) {\n    switch (action.type) {\n        case SET_FILTER_AVAILABLE:\n            return {...state, available: action.payload};\n\n        case SET_FILTER_ACTIVE:\n            return {...state, active: action.payload};\n\n        default:\n            return state\n    }\n}","import {scheme} from '../store/scheme';\nimport {SET_TICKETS} from '../actions/actions';\n\nexport function pageReducer(state = scheme.page, action) {\n    switch (action.type) {\n        case SET_TICKETS:\n            return {...state, tickets: action.payload};\n\n        default:\n            return state\n    }\n}","import {createStore} from 'redux'\nimport {rootReducer} from '../reducers/index'\n\nexport const store = createStore(rootReducer);","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport 'whatwg-fetch';\nimport './currency.css';\n\nclass Currency extends Component {\n    componentDidMount() {\n        this.getCurrSymbol(this.props.currency.active);\n    }\n\n    getCurrSymbol(currency) {\n        window.fetch('https://restcountries.eu/rest/v2/currency/' + currency)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.props.setCurrencySymbol(responseJson[0]['currencies'][0]['symbol']);\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    getCurrRate(currency) {\n        if (currency === 'RUB') {\n            this.props.setCurrencyRate(1);\n        } else {\n            window.fetch('https://free.currencyconverterapi.com/api/v5/convert?q=RUB_' + currency + '&compact=y')\n                .then((response) => response.json())\n                .then((responseJson) => {\n                    this.props.setCurrencyRate(responseJson['RUB_' + currency]['val']);\n                })\n                .catch((error) => {\n                    console.error(error);\n                });\n        }\n    }\n\n    changeCurrency(currency) {\n        this.getCurrSymbol(currency);\n        this.getCurrRate(currency);\n        this.props.setCurrency(currency);\n    }\n\n    render() {\n        const {currency} = this.props;\n        const {active, available} = currency;\n\n        const currenciesHtml = available.map((item, i) => {\n            return (\n                <div className={'currency-btn ' + (active === item ? 'active' : '')}\n                    onClick={() => this.changeCurrency(item)}\n                    key={i + '_' + item}>\n                    {item}\n                </div>\n            )\n        });\n\n        return (\n            <div className='currency'>\n                <div className='sidebar-title currency-title'>Валюта</div>\n                <div className='currency-container'>{currenciesHtml}</div>\n            </div>\n        );\n    }\n}\n\nCurrency.propTypes = {\n    currency: PropTypes.object.isRequired,\n    setCurrency: PropTypes.func.isRequired,\n    setCurrencyRate: PropTypes.func.isRequired,\n    setCurrencySymbol: PropTypes.func.isRequired\n\n};\n\nexport default Currency;","import React from 'react';\n\nconst OnlyHtml = props => (\n    <span className='stops-only' onClick={() => props.only(props.filter)}>\n        Только\n    </span>\n);\n\nexport default OnlyHtml;","export const helper = {\n    img(carrier, type) {\n        const db = {\n            'TK': {\n                img: '/tk.png',\n                alt: 'turkish airlines'\n            },\n            'S7': {\n                img: '/s7.png',\n                alt: 's7'\n            },\n            'BA': {\n                img: '/ba.png',\n                alt: 'british airways'\n            },\n            'SU': {\n                img: '/su.png',\n                alt: 'aeroflot'\n            }\n        };\n\n        if (carrier in db) {\n            if (type in db[carrier]) {\n                return db[carrier][type];\n            }\n        }\n\n        return '';\n    },\n    formatStops(stops) {\n        let text = '',\n            val = stops;\n\n        if (!isNaN(parseFloat(val))) val = parseFloat(val);\n\n        if (val === 1) {\n            text = ' пересадка';\n        } else if (val > 1 && val < 5) {\n            text = ' пересадки';\n        } else if (val >= 5) {\n            text = ' пересадок';\n        } else if (val === 0) {\n            return 'Без пересадок'\n        } else if (val === 'all') {\n            return 'Все';\n        }\n\n        return val + text;\n    },\n    monthByNum(value) {\n        return ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек'][value]\n    },\n    dayByNum(value) {\n        return ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'][value]\n    },\n    formatDate(date, type) {\n        let _date = new Date(date.replace(/\\./g, '/')),\n            _day = _date.getDay(),\n            _d = _date.getDate(),\n            _m = _date.getMonth(),\n            _y = _date.getFullYear();\n\n        if (type === 'month') {\n            return _d + ' ' + this.monthByNum(_m) + ' ' + _y;\n        } else if (type === 'day') {\n            return this.dayByNum(_day);\n        }\n\n        return date;\n    },\n    formatPrice(num) {\n        let _p = num,\n            _t = 3,\n            _r = '';\n\n        if (_p.length > 3) {\n            for (let i = _p.length; i !== 0; i--) {\n                if (_t === 0) {\n                    _r = _p[i - 1] + ' ' + _r;\n                    _t = 3;\n                } else {\n                    _r = _p[i - 1] + '' + _r;\n                    _t--;\n                }\n            }\n            return _r;\n        }\n\n        return num;\n    }\n};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport OnlyHtml from './OnlyHtml';\nimport { helper } from '../../../helper';\nimport './stops.css';\n\nclass Stops extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChange = this.onChange.bind(this);\n        this.only = this.only.bind(this);\n    }\n\n    componentDidMount() {\n        this.onChange();\n    }\n\n    onChange(filter) {\n        const {filters, setFilterActive} = this.props;\n        const {active} = filters;\n\n        let _active = Object.assign({}, active);\n\n        if (filter !== undefined) {\n            if (filter in _active) {\n                delete _active[filter];\n                delete _active['all'];\n            } else {\n                _active[filter] = null;\n\n                if (filter !== 'all') {\n                    delete _active['all'];\n                }\n            }\n        } else {\n            _active.all = null;\n        }\n\n        setFilterActive(_active);\n    }\n\n    only(filter) {\n        this.props.setFilterActive({\n            [filter]: null\n        });\n    }\n\n    render() {\n        const {currency, filters} = this.props;\n        const {symbol, rate} = currency;\n        const {available, active} = filters;\n\n        const stops = Object.keys(available).map((filter, i) => {\n            return (\n                <div className='stops-item' key={i + '_' + filter}>\n                    <input\n                        id={filter}\n                        type='checkbox'\n                        checked={filter in active}\n                        onChange={() => this.onChange(filter)}\n                    />\n                    <label className='stops-label' htmlFor={filter}>\n                        {helper.formatStops(filter)}\n                        <span className='stops-from'>\n                            от {helper.formatPrice((available[filter] * rate).toFixed())}{symbol}\n                        </span>\n                    </label>\n                    {filter !== 'all' && <OnlyHtml only={this.only} filter={filter}/>}\n                </div>\n            )\n        });\n\n        return (\n            <div className='stops'>\n                <div className='sidebar-title stops-title'>Количество пересадок</div>\n                <div className='stops-container'>\n                    <div className='stops-item'>\n                        <input\n                            id='all'\n                            type='checkbox'\n                            checked={'all' in active}\n                            onChange={() => this.onChange('all')}\n                        />\n                        <label className='stops-label' htmlFor='all'>\n                            {helper.formatStops('all')}\n                        </label>\n                    </div>\n                    {stops}\n                </div>\n            </div>\n        );\n    }\n}\n\n\nStops.propTypes = {\n    currency: PropTypes.object.isRequired,\n    filters: PropTypes.object.isRequired,\n    setFilterActive: PropTypes.func.isRequired\n};\n\nexport default Stops;","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport './sidebar.css';\nimport Currency from './currency/Currency';\nimport Stops from './stops/Stops';\nimport {setCurrency, setCurrencyRate, setCurrencySymbol, setFilterActive} from '../../actions/actions';\n\nclass Sidebar extends Component {\n    render() {\n        const {currency, filters, setCurrencyAction, setCurrencyRateAction, setCurrencySymbolAction, setFilterActiveAction} = this.props;\n\n        return (\n            <div className='sidebar'>\n                <Currency\n                    currency={currency}\n                    setCurrency={setCurrencyAction}\n                    setCurrencyRate={setCurrencyRateAction}\n                    setCurrencySymbol={setCurrencySymbolAction}\n                />\n                <Stops\n                    currency={currency}\n                    filters={filters}\n                    setFilterActive={setFilterActiveAction}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    return {\n        currency: store.currency,\n        filters: store.filters\n    }\n};\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrencyAction: currency => dispatch(setCurrency(currency)),\n    setCurrencyRateAction: rate => dispatch(setCurrencyRate(rate)),\n    setCurrencySymbolAction: symbol => dispatch(setCurrencySymbol(symbol)),\n    setFilterActiveAction: filter => dispatch(setFilterActive(filter))\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Sidebar)","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { helper } from '../../../helper';\nimport './ticket.css';\n\nclass Ticket extends Component {\n    render() {\n        const { data, symbol, rate} = this.props;\n        const {\n            carrier = 'carrier',\n            price = 0,\n            departure_time = 'XX:XX',\n            stops = 0,\n            arrival_time = 'XX:XX',\n            origin = 'origin',\n            origin_name = 'origin_name',\n            destination = 'destination',\n            destination_name = 'destination_name',\n            departure_date = 'departure_date',\n            arrival_date = 'arrival_date',\n        } = data;\n\n        return (\n            <div className='ticket'>\n                <div className='ticket-main'>\n                    <img\n                        src={helper.img(carrier, 'img')}\n                        alt={helper.img(carrier, 'alt')}\n                        width={120}\n                        height={35}\n                    />\n                    <a href={'/'}>\n                        <span>Купить</span>за {helper.formatPrice((price * rate).toFixed())}{symbol}\n                    </a>\n                </div>\n                <div className='ticket-details'>\n                    <div className='ticket-time df jcsb'>\n                        <div className='tal'>{departure_time}</div>\n                        {stops >= 1 && <div className='ticket-stops'>{helper.formatStops(stops)}</div>}\n                        <div className='tar'>{arrival_time}</div>\n                    </div>\n                    <div className='ticket-city df jcsb'>\n                        <div className='tal'>{origin}, {origin_name}</div>\n                        <div className='tar'>{destination}, {destination_name}</div>\n                    </div>\n                    <div className='ticket-date df jcsb'>\n                        <div className='tal'>{helper.formatDate(departure_date, 'month')}, {helper.formatDate(departure_date, 'day')}</div>\n                        <div className='tar'>{helper.formatDate(arrival_date, 'month')}, {helper.formatDate(arrival_date, 'day')}</div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nTicket.propTypes = {\n    data: PropTypes.object.isRequired,\n    symbol: PropTypes.string.isRequired,\n    rate: PropTypes.number.isRequired,\n};\n\nexport default Ticket;\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport './tickets.css';\nimport Ticket from './ticket/Ticket';\nimport 'whatwg-fetch';\nimport {setFilterAvailable, setTickets} from '../../actions/actions';\n\nclass Tickets extends Component {\n    componentDidMount() {\n        this.setTickets();\n    }\n\n    setTickets() {\n        window.fetch('https://raw.githubusercontent.com/KosyanMedia/test-tasks/master/aviasales/tickets.json')\n            .then((response) => response.json())\n            .then((responseJson) => {\n                const {setTicketsAction, setFilterAvailableAction} = this.props;\n                let tickets = responseJson.tickets.slice(),\n                    _h = {};\n\n                // костыль с расчетом доступных фильтров и минимальных цен, нужно переделать алгоритм\n                tickets = tickets.sort((a,b) => {\n                    if (a.stops in _h) {\n                        if (a.price < _h[a.stops]) {\n                            _h[a.stops] = a.price;\n                        }\n                    } else {\n                        _h[a.stops] = a.price;\n                    }\n\n                    if (b.stops in _h) {\n                        if (b.price < _h[b.stops]) {\n                            _h[b.stops] = b.price;\n                        }\n                    } else {\n                        _h[b.stops] = b.price;\n                    }\n\n                    return a.price - b.price;\n                });\n\n                setFilterAvailableAction(_h);\n                setTicketsAction(tickets);\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    render() {\n        const {page, filters, currency} = this.props;\n        const {tickets} = page;\n        const {active} = filters;\n        const {symbol, rate} = currency;\n\n        let prep = tickets.slice();\n\n        // filter\n        if (!('all' in active)) {\n            prep = prep.filter((item) => {\n                return item.stops in active\n            });\n        }\n\n        const ticketsHtml = prep.map((item) => {\n            return <Ticket\n                data={item}\n                symbol={symbol}\n                rate={rate}\n                key={item.arrival_date + '_' + item.arrival_time}\n            />\n        });\n\n        return (\n            <div className='tickets-container'>\n                {ticketsHtml}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    return {\n        currency: store.currency,\n        filters: store.filters,\n        page: store.page,\n    }\n};\n\nconst mapDispatchToProps = dispatch => ({\n    setTicketsAction: tickets => dispatch(setTickets(tickets)),\n    setFilterAvailableAction: filters => dispatch(setFilterAvailable(filters))\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Tickets)","import React, {Component} from 'react';\nimport 'object-assign-polyfill';\nimport './animation.css';\nimport './App.css';\nimport Sidebar from './components/sidebar/Sidebar';\nimport Tickets from './components/tickets/Tickets';\nimport './media.css';\nimport {polyfill} from 'es6-promise'; polyfill(); //ie11 fix\n\nclass App extends Component {\n    render() {\n        return (\n            <div className='main'>\n                <img\n                    className='logo'\n                    src='/logo.svg'\n                    alt='logo'\n                    width={60}\n                />\n                <Sidebar/>\n                <Tickets/>\n            </div>\n        );\n    }\n}\n\nexport default App","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}